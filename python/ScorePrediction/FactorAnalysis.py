#!/usr/bin/env python3
import numpy as np
import matplotlib.pyplot as plt
score=np.zeros((8,3))
score[0][0]=0.456
score[1][0]=0.051
score[2][0]=0.111
score[3][0]=-0.233
score[4][0]=0.346
score[5][0]=0.208
score[6][0]=0.214
score[7][0]=0.053
score[0][1]=0.133
score[1][1]=-0.183
score[2][1]=0.408
score[3][1]=0.083
score[4][1]=0.034
score[5][1]=-0.228
score[6][1]=0.052
score[7][1]=0.397
score[0][2]=-0.338
score[1][2]=0.265
score[2][2]=0.116
score[3][2]=0.756
score[4][2]=-0.062
score[5][2]=-0.038
score[6][2]=0.185
score[7][2]=0.013

class Factor(object):
    def __init__(self,name,ass,opv,ntp,ti,tp,ts,Or,fp):
        self.name=name
        self.att=[]
        self.att.append(ass)
        self.att.append(opv)
        self.att.append(ntp)
        self.att.append(ti)
        self.att.append(tp)
        self.att.append(ts)
        self.att.append(Or)
        self.att.append(fp)
        self.rank=0
        self.F=[]
        self.f=0
        for i in range(3):
            f=0
            for j in range(8):
                f+=self.att[j]*score[j][i]
            self.F.append(f)
        sum=84.483
        a=45.676/sum
        b=26.079/sum
        c=12.728/sum
        self.f+=a*self.F[0]+b*self.F[1]+c*self.F[2]
    def display(self):
        print("{} {:.3f} {:.3f} {:.3f} {:.3f} {}".format(self.name,self.F[0],self.F[1],self.F[2],self.f,self.rank))
lst=[]
bj=Factor("北京",1.0467801779378507,	-0.5195691002672224,1.799025011075025,-0.09356313358818162,0.5371075676514271,-0.8051630332906793,-0.5158745518589686,2.2070364419594086)
lst.append(bj)
tj=Factor("天津",-1.9435348316336798	,-1.2826578208065949,0.6911192210595967,-0.22317108093574506,-0.979677061464842,-1.161035698027213,-0.8139212265355439,0.9075418027127482)
lst.append(tj)
jl=Factor("吉林",-0.02008911080946,-1.012151138138613,0.6057574610827389,-0.2431107651430625,-0.7858075973938098,-0.7154930333879558,-0.27365181731981814,1.3863029855930968)
lst.append(jl)
sh=Factor("上海",1.531747187412005,-0.9660823144527995,0.41167177524062004,0.08589402427767544,-0.27806768243472335,-0.4716129777464459,1.0043442522262962,0.2235972557408219)
lst.append(sh)
js=Factor("江苏",-0.24331635880235508,1.130639789196405,0.0711232801750504,2.907359339613095,0.4345904500383934,0.6196310311328365,1.628190074676338,-0.25516392713952635)
lst.append(js)
zj=Factor("浙江",-0.2361951770629982,0.5234763180551706,-0.18046927554621475,-0.26305044935037997,1.8524158380440992,0.442604217971314,1.1972292568154177,0.1552028010436295)
lst.append(zj)
hb=Factor("湖北",-0.17312185308583813,-0.18527481557272948,-2.5391494854330756,-0.7017235019113639,-0.8591771984860606,0.40010747015382647,-0.6030874960508085,-1.0758973835058379)
lst.append(hb)
gd=Factor("广东",1.8120892195593363,1.6940969404305857,0.11155779805882515,-0.13344250200281654,1.90931865854122,2.268338698060829,1.7258128545623759,-1.0758973835058379)
lst.append(gd)
cq=Factor("重庆",0.15939373507024918,-1.0086073824704733,0.5114102526872645,-0.5621457124601418,-0.9357334194022632,-1.4956098578751034,-0.7192544571939259,-0.25516392713952635)
lst.append(cq)
sd=Factor("山东",-0.01761849673661892,1.398783968085627,0.10526798416579353,0.793752813637445,0.38281174515624355,0.7410912338602696,-0.18757661819363636,-0.5971362006254896)
lst.append(sd)
hn=Factor("河南",-0.6999439715586607,-0.5762691909574543,-0.7959724922214527,-0.9210600281918558,0.14260867415466869,0.6384587948693,-0.8051382599539223,-0.11837501774514128)
lst.append(hn)
hb=Factor("河北",-0.3885012681414862,0.5459201039533874,-0.2676281252067959,0.32517023476548484,-0.6810087981107135,-0.4355616416302962,-0.7171809965602501,-0.3235583818367191)
lst.append(hb)
sc=Factor("四川",-0.8276892521483469,0.25769464294470806,-0.5237134051373694,-0.9709092387101496,-0.7393811762936373,-0.025755204090678982,-0.9198910146135584,-1.178489065551627)
lst.append(sc)
for i in range(len(lst)):
    for j in range(i,len(lst)):
        if lst[j].f>lst[i].f:
            tmp=lst[j]
            lst[j]=lst[i]
            lst[i]=tmp
print("省市 F1 F2 F3 F 排名")
for i in range(len(lst)):
    lst[i].rank=i+1
    #lst[i].display()

x_data = ['2012', '2013', '2014', '2015', '2016', '2017', '2018']
y_data = [58000, 60200, 63000, 71000, 84000, 90500, 107000]
y_data2 = [52000, 54200, 51500,58300, 56800, 59500, 62700]
# 绘图
plt.bar(x=x_data, height=y_data, label='C语言基础', color='steelblue')
# 在柱状图上显示具体数值, ha参数控制水平对齐方式, va控制垂直对齐方式
plt.title("Java与Android图书对比")
# 为两条坐标轴设置名称
plt.xlabel("年份")
plt.ylabel("销量")
# 显示图例
plt.legend()
plt.show()